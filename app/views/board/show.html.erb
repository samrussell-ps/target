<% if flash[:alert] %>
  <div class='alert alert-danger'>
    <%= flash[:alert] %>
  </div>
<% end %>

<% shuffled_word = @board.dictionary_entry.word.chars.shuffle(random: Random.new(@board.word_shuffle_seed)).join %>

<div id="grid">
<% shuffled_word.chars.each_slice(3) do |row| %>
    <div class="leftfiller-0"></div>
    <% row.each do |cell| %>
      <div class="letter-cell"><%= cell %></div>
    <% end %>
    <div class="rightfiller"></div>
<% end %>
</div>
<div>
  <%= form_tag({controller: 'submitted_word', action: 'create', board_id: @board.id}, method: 'post', remote: false) do %>
    <%= text_field_tag 'word', '', { autofocus: true } %>
    <%= submit_tag 'Submit word' %>
  <% end %>
</div>

<p>Score: <%= @board.submitted_words.size %>/<%= @max_score %>

<p>Words</p>
<div>
  <ol>
    <% @board.submitted_words.map { |submitted_word| submitted_word.dictionary_entry.word }.each do |word| %>
      <li><%= word %></li>
      <% end %>
    </ol>
  </div>
